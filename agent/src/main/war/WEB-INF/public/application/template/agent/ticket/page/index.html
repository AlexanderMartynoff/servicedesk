<h1 class="page-header">Заявки</h1>

<div class="row x-margin-btm-10">
    <div class="col-xs-12">
        <form class="form-inline">
            <div class="form-group">
                <label class="control-label">Режим</label>
                <select class="form-control">
                    <option>Менеджер</option>
                    <option selected="selected">Исполнитель</option>
                </select>
            </div>
            <div class="form-group">
                <input type="text"
                       class="form-control width-200"
                       placeholder="Поиск по заголовку">
            </div>
            <div class="form-group">
                <input type="email"
                       class="form-control width-200"
                       placeholder="Поиск по исполнителю">
            </div>
            <a href="" class="btn btn-success form-control" ng-click="new()">
                <b class="fa fa-plus-square fa-left"></b>Создать
            </a>
        </form>
    </div>
</div>

<div class="row">
    <div class="col-xs-12">
        <div ng-if="paginator.$$collection.length === 0" class="alert alert-info">
            Записи удовлетворяющие условиям поиска не найдены
        </div>

        <table ng-if="paginator.$$collection.length > 0" class="table table-striped table-hover x-table-clickable">
            <thead>
            <tr>
                <th>ID</th>
                <th>Наименование</th>
                <th>Описание</th>
                <th>Прогресс</th>
            </tr>
            </thead>
            <tr ng-repeat="i in paginator.getCurrentPage()" ng-click="edit(i)">
                <td>{{i.id}}</td>
                <td>{{i.title.length < 20 ? i.title : i.title.substring(0, 20) + '...'}}</td>
                <td>{{i.description.length < 20 ? i.description : i.description.substring(0, 20) + '...'}}</td>
                <td>
                    <uib-progressbar animate="true"
                                     value="i.progress"
                                     tooltip-placement="top"
                                     uib-tooltip="{{i.progress}}%"
                                     type="success"></uib-progressbar>
                </td>
            </tr>
        </table>

        <div ng-if="paginator.$$collection.length > 0" class="center">
            <uib-pagination total-items="paginator.$$collection.length"
                            ng-model="paginator.$$index"
                            direction-links="false"
                            items-per-page="paginator.PAGE_SIZE"
                            class="pagination-sm">
            </uib-pagination>
        </div>
    </div>
</div>